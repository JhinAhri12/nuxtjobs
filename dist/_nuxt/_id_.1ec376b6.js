import{_ as J}from"./nuxt-link.0d8fa39f.js";import{l as d,X as m,i as S,o as u,m as b,N as t,Q as r,Z as x,$ as y,u as i,V as k,W as I,s as $,B,O as E,P as c,w as T,S as C,M as D,R as N}from"./entry.95b3157e.js";import{_ as P}from"./job.5d8c9118.js";/* empty css                       */import{_ as A}from"./FormJob.c5f6aed2.js";const f=o=>(k("data-v-84cb189c"),o=o(),I(),o),O={class:"max-w-sm rounded overflow-hidden shadow-lg mt-8"},L=f(()=>t("img",{class:"w-full",src:P,alt:"job"},null,-1)),V={class:"px-6 py-4"},q={class:"font-bold text-xl mb-2"},R={class:"text-gray-700 text-base"},F=f(()=>t("div",{class:"px-6 pt-4 pb-2"},[t("span",{class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"},"#job"),t("span",{class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"},"#nuxt"),t("span",{class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"},"#nuxtjob")],-1)),U={class:"px-6 py-4 pb-2"},H={__name:"JobDetails",props:["job"],setup(o){const{job:s}=o,a=m();S(()=>{var e;return(e=a.value)==null?void 0:e.email});async function n(){var e;await $fetch("/api/application/manageApplication",{method:"POST",body:{event:"APPLICATION_JOB",email:(e=a.value)==null?void 0:e.email,society:s.society}})}return(e,l)=>(u(),b("div",O,[L,t("div",V,[t("div",q,r(o.job.society),1),t("p",R,r(o.job.description),1)]),F,x(t("div",U,[t("button",{class:"job px-3 py-1",onClick:n},"Postuler")],512),[[y,i(a)]])]))}},M=d(H,[["__scopeId","data-v-84cb189c"]]);const Q={__name:"[id]",async setup(o){let s,a;const n=m(),e="Update",l="PATCH",{id:_}=$().params,p=B({query:"getById",params:_}),h=([s,a]=E(()=>$fetch(`/api/job/job?query=${p.value.query}&params=${p.value.params}`)),s=await s,a(),s);async function v(){return confirm("Êtes vous certain de supprimer ce job ?"),await $fetch("/api/job/manageJob",{method:"DELETE",body:{event:"DELETE_JOB",id:_}}),D("/")}return(W,X)=>{const g=J,j=M,w=A;return u(),b(C,null,[c(g,{to:"/",class:"job"},{default:T(()=>[N(" Retour à la liste des jobs")]),_:1}),c(j,{job:i(h)},null,8,["job"]),x(t("div",null,[c(w,{title:e,action:l}),t("button",{class:"job",onClick:v},"Supprimer le Job")],512),[[y,i(n)]])],64)}}},tt=d(Q,[["__scopeId","data-v-45181a59"]]);export{tt as default};

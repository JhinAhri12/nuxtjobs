import{l,a3 as m,Y as b,o as a,m as r,u as t,Z as v,a1 as h,N as i,Q as d,a4 as x,V as f,W as g,c as y}from"./entry.95b3157e.js";/* empty css                   */const u=s=>(f("data-v-7ce4eab5"),s=s(),g(),s),k={class:"container mx-auto text-center border rounded border-slate-400 py-4 px-5 my-5",style:{"max-width":"800px"}},S=u(()=>i("h1",{class:"mb-4"}," Formulaire d'inscription à Nuxt Jobs ",-1)),w={key:0,class:"bg-teal-500/50 border border-teal-500 rounded px-3 py-2 mb-4 text-white"},I={key:1},V=u(()=>i("p",{class:"mb-4"}," Pour vous incrire, ajoutez votre e-mail et vous recevrez un lien magique. ",-1)),z={key:0,class:"bg-red-500/50 border border-red-500 rounded px-3 py-2 mb-4 text-white"},B=["disabled"],N={__name:"Signup",setup(s){const n=m(),e=b({loading:!1,disabled:!1,email:void 0,success:!1,error:void 0}),p=async()=>{if(!e.email)return e.error="Vous devez utiliser un email valide";e.loading=!0;let{data:c,error:o}=await n.auth.signInWithOtp({email:e.email});c&&(e.success=!0),o&&(e.error=o.message),e.loading=!1};return(c,o)=>(a(),r("div",k,[S,t(e).success?(a(),r("div",w," Ouvrez votre boîte e-mail pour vous connecter :) ")):(a(),r("div",I,[V,v(i("input",{"onUpdate:modelValue":o[0]||(o[0]=_=>t(e).email=_),type:"text",placeholder:"email",class:"border"},null,512),[[h,t(e).email]]),t(e).error?(a(),r("div",z,d(t(e).error),1)):x("",!0),i("button",{disabled:t(e).disabled,class:"block mx-auto job",onClick:p},d(t(e).loading?"Loading...":"Envoi du lien magique"),9,B)]))]))}},C=l(N,[["__scopeId","data-v-7ce4eab5"]]),E={};function j(s,n){const e=C;return a(),y(e)}const O=l(E,[["render",j]]);export{O as default};
